<html>
    <head>
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
        <script defer>
            let sun;
            let sunScale;
            window.onload = () => {
                alert('a');
                sun = document.querySelector("#sun");
                sun.addEventListener("click", () => {
                    sunScale = sun.getAttribute("scale");
                    alert(sunScale);
                    if (sunScale == "2 2 2") {
                        sun.setAttribute("scale", "5 5 5")
                    } else {
                        sun.setAttribute("scale", "2 2 2")
                    }
                })
            }
            let scene = document.querySelector("a-scene")
            scene.addEventListener("markerFound", (e) => {
                isMarkerVisible = true;
            });
            scene.addEventListener("markerLost", (e) => {
                isMarkerVisible = false;
            });

            function handleRotation(event) {
                if (isMarkerVisible) {
                    el.object3D.rotation.y +=
                    event.detail.positionChange.x * rotationFactor;

                    el.object3D.rotation.x +=
                    event.detail.positionChange.y * rotationFactor;
                }
            }
        </script>
    </head>
    <body style="margin: 0px; overflow: hidden">
        <a-scene renderer="anisotropy: 8; foveationLevel: 1; physicallyCorrectLights: true; colorManagement: true; logarithmicDepthBuffer: false" stats="false" reflection="directionalLight:a-light#light2" embedded arjs="debugUIEnabled: false; sourceType: webcam; trackingMethod: best; patternRatio: 0.9" gesture-detector vr-mode-ui="enabled: false">
            <a-assets>
                <img id="sunAbd" src="./assets/sun_abd.jpg">
                <img id="earthAbd" src="./assets/earth_abd.jpg">
                <img id="earthNrm" src="./assets/earth_nrm.jpg">
                <img id="earthRgh" src="./assets/earth_rgh.jpg">
                <img id="marsAbd" src="./assets/mars_abd.jpg">
                <img id="marsNrm" src="./assets/mars_nrm.jpg">
                <img id="venusAbd" src="./assets/venus_abd.jpg">
                <img id="venusNrm" src="./assets/venus_nrm.jpg">
                <img id="venusAtmAbd" src="./assets/venus_atm_abd.png">
                <img id="jupiterAbd" src="./assets/jupiter_abd.jpg">
                <img id="jupiterNrm" src="./assets/jupiter_nrm.jpg">
                <img id="mercuryAbd" src="./assets/mercury_abd.jpg">
                <img id="mercuryNrm" src="./assets/mercury_nrm.jpg">
                <img id="saturnAbd" src="./assets/saturn_abd.jpg">
                <img id="saturnRingAbd" src="./assets/saturn_ring_abd.png">
                <img id="uranusAbd" src="./assets/uranus_abd.jpg">
                <img id="neptuneAbd" src="./assets/neptune_abd.jpg">
                <a-asset-item id="saturnRingModel" src="./assets/saturn_ring.gltf"></a-asset-item>

            </a-assets>
            <a-text scale=".25 .25 .25" position="0 0 0" value=".">
                <a-entity scale="2 2 2" geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #sunAbd; shader: flat" id="sun" position="0 0 0" class="clickable"></a-entity>
                <a-entity scale=".03 .03 .03" geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #mercuryAbd; normalMap: #mercuryNrm; normalScale: 2 2" id="mercury" position="2.5 0 0" shadow="receive: true"></a-entity>
                <a-entity scale=".09 .09 .09" geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #earthAbd; roughnessMap: #earthRgh; normalMap: #earthNrm" id="earth" position="4.5 0 0" shadow="receive: true"></a-entity>
                <a-entity geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #marsAbd; normalMap: #marsNrm" id="mars" scale="0.045 0.045 0.045" position="5.5 0 0" shadow="receive: true"></a-entity>
                <a-entity geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #venusAbd; normalMap: #venusNrm" id="venus" scale="0.085 0.085 0.085" position="3.5 0 0" shadow="receive: true">
                    <a-entity geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #venusAtmAbd; transparent: true"></a-entity>
                </a-entity>
                <a-entity scale="1 1 1" geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #jupiterAbd; normalMap: #jupiterNrm" id="jupiter" position="7.5 0 0" shadow="receive: true"></a-entity>
                <a-entity geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #saturnAbd" id="saturn" scale="0.9 0.9 0.9" position="10 0 0" shadow="receive: true">
                    <a-entity gltf-model="#saturnRingModel" id="saturnRing" material="roughness: 1; src: #saturnRingAbd; transparent: true; side: double"></a-entity>
                </a-entity>
                <a-entity geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #uranusAbd" id="uranus" scale="0.36 0.36 0.36" position="12 0 0" shadow="receive: true"></a-entity>
                <a-entity geometry="primitive: sphere; segmentsHeight: 32; segmentsWidth: 64" material="roughness: 1; src: #neptuneAbd" id="neptune" scale="0.35 0.35 0.35" position="13.25 0 0" shadow="receive: true"></a-entity>

                <!-- <a-entity id= "light1" light="color: #cdebfe; intensity: 1.5; penumbra: 0.52; type: directional" position="0 0 5"></a-entity> -->
                <a-entity id= "light1" light="color: #ffffff; intensity: 2; penumbra: 0.5; type: point" position="3 0 5"></a-entity>
                <a-entity id= "light2" light="color: #ffffff; intensity: 2; penumbra: 0.5; type: point" position="6.5 0 5"></a-entity>
                <a-entity id= "light3" light="color: #ffffff; intensity: 2; penumbra: 0.5; type: point" position="11 0 5"></a-entity>
                <a-entity id= "light4" light="color: #ffffff; intensity: 2; penumbra: 0.5; type: point" position="19 0 5"></a-entity>
                <a-entity id= "ambientLight" light="color: #ffffff; intensity: 0.02; penumbra: 0.5; type: ambient" position="6.5 0 5"></a-entity>
            </a-text>
            

            <!-- <a-entity camera id="userCamera" wasd-controls look-controls></a-entity> -->
            <a-marker-camera type="pattern" url="./assets/pattern-marker.patt" raycaster="objects: .clickable" smooth="true" smoothCount="10" smoothTolerance=".01" smoothThreshold="5" emitevents="true" cursor="fuse: false; rayOrigin: mouse;"></a-marker-camera>
        </a-scene>
    </body>
</html>
